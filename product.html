<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cerewet Craft - Contact</title>

    <link rel="stylesheet" href="./src/output.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar-container bg-black">
      <img
        src="assets/img/logo.jpg"
        alt="Icon CRWTCraft"
        class="rounded-full w-[72px]"
      />

      <div class="nav-link-list">
        <a href="index.html" class="nav-link" nav="index">BERANDA</a>
        <a href="about.html" class="nav-link" nav="about">ABOUT</a>
        <a href="product.html" nav="product" class="nav-link">PRODUK</a>
        <a href="contact.html" nav="contact" class="nav-link">KONTAK</a>
      </div>
    </nav>

    <!-- Main section -->
    <!-- MARK: Main -->
    <main>
      <div class="py-12 px-10">
        <!-- Product hero -->
        <div class="h-[200px] rounded-lg overflow-hidden focus:grayscale">
          <img
            src="./assets/img/home-prod-3.jpg"
            alt="Product Hero"
            class="-translate-y-[50%]"
          />
        </div>

        <!-- Product title & dropdown -->
        <!-- MARK: PRODUCT MENU -->
        <div
          class="flex justify-between items-center px-16 py-10"
          id="product-list"
        >
          <div class="font-vogue text-[48pt] text-main">
            <h2>Semua Produk</h2>
          </div>

          <!-- MARK: dropdown -->
          <div>
            <button
              class="w-[300px] font-vogue text-main text-[16pt] bg-white hover:bg-main-light focus:ring-4 focus:ring-main-light rounded-lg px-4 py-2.5 text-center inline-flex justify-between items-center"
              type="button"
              data-dropdown-toggle="dropdown"
            >
              <span id="dropdownMenuButton">Souvenir</span>
              <svg
                class="w-4 h-4 ml-2 stroke-main"
                fill="none"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </button>

            <!-- Dropdown menu -->
            <!-- MARK: dropdown menu -->
            <div
              class="hidden text-main text-[14pt] font-vogue bg-white z-50 list-none divide-y divide-gray-100 rounded shadow my-4 w-[300px]"
              id="dropdown"
            >
              <ul class="py-1" aria-labelledby="dropdown">
                <li>
                  <a
                    href="#"
                    class="child-menu hover:bg-gray-100 block px-4 py-2"
                    category="souvenir"
                    >Souvenir</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="child-menu hover:bg-gray-100 block px-4 py-2"
                    category="atk"
                    >Peralatan Tulis</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="child-menu hover:bg-gray-100 block px-4 py-2"
                    category="organizer"
                    >Organizer</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- MARK: PRODUCT LIST -->
        <!-- Product list -->
        <div class="product-list-container" id="product-container">
          <div class="product-card">
            <div class="product-img-container">
              <img
                src="./assets/img/product/organizer/1.png"
                alt="Prod 1"
                class=""
              />
            </div>

            <div class="product-title">
              <h4>STORAGE BOX</h4>
            </div>

            <div class="product-price">Rp. 1.000.000</div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="footer-top">
        <div class="text-center">CRWTCraft Â© <span id="year"></span></div>
      </div>

      <!-- <div class="footer-main"></div> -->
    </footer>

    <script src="https://unpkg.com/@themesberg/flowbite@latest/dist/flowbite.bundle.js"></script>

    <script src="./assets/js/product.js"></script>
    <script src="./assets/js/script.js"></script>

    <script>
      const childMenus = document.querySelectorAll(".child-menu");

      const dropdown = document.getElementById("dropdownMenuButton");

      const productContainer = document.getElementById("product-container");

      // Default category
      window.addEventListener("load", (e) => {
        // Get query param if exists
        const params = new URLSearchParams(window.location.search);
        const category = params.get("category");

        productContainer.classList.add("inactive");

        productContainer.innerHTML = "";

        let categoryName;
        let products;

        if (category) {
          products = getProductByCode(category);
          categoryName = products.name;
        } else {
          products = productList[0];
          categoryName = products.name;
        }

        dropdown.textContent = categoryName;

        createProductCard(products.code);

        // Scroll to product container
        setTimeout(() => {
          productContainer.classList.remove("inactive");
          document.querySelector("#product-list").scrollIntoView();
        }, 2000);
      });

      // Fetch product by category
      childMenus.forEach((childMenu) => {
        childMenu.addEventListener("click", function (e) {
          e.preventDefault();

          // Change main dropdown button text
          dropdown.textContent = childMenu.textContent;

          // Get products by category
          const category = childMenu.getAttribute("category");

          productContainer.classList.add("inactive");

          // Clear product container
          productContainer.innerHTML = "";

          // Generate product card
          setTimeout(() => {
            createProductCard(category);
            productContainer.classList.remove("inactive");
          }, 500);
        });
      });
    </script>
  </body>
</html>
